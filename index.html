<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PwCHO Zadanie 2</title>
    <style>
        div {
            padding-top: 10%;
        }
        
        p {
            color: rgb(128, 0, 96);
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
        
        body {
            background-color: black;
        }
        
        span {
            font-weight: 900;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        $.getJSON('https://ip4.seeip.org/json', function(data) {
            console.log(JSON.stringify(data, null, 2));
            $("#ip_address").html(data.ip);
        })
        $.getJSON('https://ipapi.co/json/', function(data1) {
            console.log(JSON.stringify(data1, null, 2));
            $("#timezone").html(data1.timezone);
        })
    </script>
    <script>
        function displayTime() {
            let options = {
                timeZone: document.getElementById("timezone").innerText,
                hour: 'numeric',
                minute: 'numeric',
                second: 'numeric',
                day: 'numeric',
                month: 'numeric',
                year: 'numeric',
            }
            var myTime = new Intl.DateTimeFormat([], options);
            document.getElementById("current_time").innerHTML = myTime.format(new Date());
        }

        setInterval(function() {
            displayTime();
        }, 500);
    </script>
</head>

<body>
    <center>
        <div>
            <p>
                IP address: <span id="ip_address"></span>
            </p>
            <p>
                Timezone: <span id="timezone"></span>
            </p>
            <p>
                Current time: <span id="current_time"></span>
            </p>
        </div>
    </center>
</body>

</html>